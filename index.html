<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aşk Tanem</title>
  <style>
    body{margin:0;height:100vh;display:flex;align-items:center;justify-content:center;background:#000;color:#fff;font-family:Segoe UI,system-ui;overflow:hidden}
    canvas{position:fixed;inset:0}
    .box{position:relative;z-index:2;background:rgba(255,255,255,.08);backdrop-filter:blur(10px);padding:32px;border-radius:20px;width:90%;max-width:420px;text-align:center}
    input,button{width:100%;padding:12px;border-radius:12px;border:none;font-size:1rem;margin-top:10px}
    button{background:#00c6ff;font-weight:700;cursor:pointer}
    .hidden{display:none}
    #countdown{font-size:2rem;margin-top:12px}
    #letter{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:3}
    #paper{background:#fff;color:#000;padding:32px;border-radius:16px;max-width:520px;width:90%;white-space:pre-wrap}
    #final{position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:800;z-index:5}
    .heart{position:absolute;bottom:-20px;animation:fly 4s linear forwards}
    @keyframes fly{to{transform:translateY(-120vh);opacity:0}}
  </style>
</head>
<body>
<canvas id="stars"></canvas>

<div class="box" id="login">
  <h2>Şifre</h2>
  <input id="pwd" type="password" placeholder="Şifreyi gir" />
  <button id="enter">Devam et</button>
</div>

<div class="box hidden" id="countBox">
  <h2>Hazır ol… ⏳</h2>
  <div id="countdown"></div>
</div>

<audio id="music" loop>
  <source src="lady-gaga-paparazzi.mp3" type="audio/mpeg">
</audio>

<script>
/* ==== AYARLAR ==== */
const PASSWORD = "Seloş123.";
const TARGET = new Date("2025-12-17T21:20:00").getTime();
const TEXT = `Canımın içi,\n\nBu yıl benim hayatıma giren en değerli insansın. Ne kadar komik ocak ayında senden bihaberken şu anda sensiz bir gelecek hayal edemiyorum. 2026 yılı bizim yılımız olacak, tüm hedeflerimize birlikte ulaşalım.\n\nSeni çoooooooooooooooook seviyorum AŞK TANEM :)))`;
const FINAL = "İYİ Kİ VARSIN AŞK TANEM :)))";

/* ==== ELEMENTLER ==== */
const login = document.getElementById('login');
const countBox = document.getElementById('countBox');
const pwd = document.getElementById('pwd');
const enter = document.getElementById('enter');
const countdown = document.getElementById('countdown');
const music = document.getElementById('music');

let started = false;

/* ==== STARS ==== */
const c=document.getElementById('stars'),x=c.getContext('2d');
function resize(){c.width=innerWidth;c.height=innerHeight}
addEventListener('resize',resize);resize();
const stars=[...Array(120)].map(()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*1.5}));
(function draw(){x.clearRect(0,0,c.width,c.height);x.fillStyle='white';stars.forEach(s=>{x.beginPath();x.arc(s.x,s.y,s.r,0,Math.PI*2);x.fill()});requestAnimationFrame(draw)})();

/* ==== LOGIN ==== */
enter.onclick=()=>{
  if(pwd.value!==PASSWORD){alert('Şifre yanlış');return}
  login.classList.add('hidden');
  countBox.classList.remove('hidden');
  music.play().catch(()=>{}); // kullanıcı etkileşimi => izin
  if(Date.now()>=TARGET) startFinal();
};

/* ==== COUNTDOWN ==== */
setInterval(()=>{
  const d=TARGET-Date.now();
  if(d<=0){countdown.textContent='00:00:00';startFinal();return}
  const h=Math.floor(d/36e5),m=Math.floor(d%36e5/6e4),s=Math.floor(d%6e4/1e3);
  countdown.textContent=`${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`
},1000);

/* ==== FINAL ==== */
function startFinal(){
  if(started) return; started=true;
  music.currentTime=0; music.play().catch(()=>{});
  const l=document.createElement('div');l.id='letter';
  l.innerHTML=`<div id="paper"></div>`;
  document.body.appendChild(l);
  const p=l.querySelector('#paper');
  let i=0;
  const t=setInterval(()=>{p.textContent+=TEXT.charAt(i++);if(i>=TEXT.length){clearInterval(t);setTimeout(showFinal,1200)}},80);
  setInterval(()=>{const h=document.createElement('div');h.className='heart';h.textContent='❤️';h.style.left=Math.random()*100+'%';p.appendChild(h);setTimeout(()=>h.remove(),4000)},150);
}

function showFinal(){
  const f=document.createElement('div');f.id='final';f.textContent=FINAL;document.body.appendChild(f);
}
</script>
</body>
</html>
